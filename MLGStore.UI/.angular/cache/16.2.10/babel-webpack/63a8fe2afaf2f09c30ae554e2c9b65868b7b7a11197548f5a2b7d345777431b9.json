{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ArticlesComponent = class ArticlesComponent {\n  constructor(storeService, fb) {\n    this.storeService = storeService;\n    this.fb = fb;\n    this.articles = [];\n    this.showForm = false;\n    this.isEdition = false;\n    this.setFormVisibility = () => this.showForm = !this.showForm;\n    this.isValidForm = () => this.articleForm.valid;\n    storeService.Stores$.subscribe(res => this.articles = res);\n  }\n  initForm() {\n    this.articleForm = this.fb.group({\n      branch: ['', [Validators.required]],\n      address: ['', [Validators.required]]\n    });\n  }\n  addNew() {\n    this.isEdition = false;\n    this.setFormVisibility();\n    this.initForm();\n  }\n  save() {\n    if (this.isValidForm()) {\n      this.storeService.insert(this.articleForm.value).subscribe(res => {\n        if (Response) {\n          this.setFormVisibility();\n        }\n      });\n    }\n  }\n  edit(store) {\n    this.store = store;\n    this.isEdition = true;\n    this.setFormVisibility();\n    this.initForm();\n    this.articleForm.patchValue(store);\n  }\n  update() {\n    if (this.isValidForm()) {\n      this.storeService.update(this.store.id, this.articleForm.value).subscribe(response => {\n        if (Response) {\n          this.setFormVisibility();\n        }\n      });\n    }\n  }\n  delete(store) {\n    if (confirm(`¿Desea eliminar la tienda ${store.branch}?`)) {\n      this.storeService.delete(store.id).subscribe(response => {\n        if (Response) {\n          alert(\"Registro eliminado\");\n        }\n      });\n    }\n  }\n};\nArticlesComponent = __decorate([Component({\n  selector: 'app-articles',\n  templateUrl: './articles.component.html',\n  styleUrls: ['./articles.component.scss']\n})], ArticlesComponent);","map":{"version":3,"names":["Component","ArticlesComponent","constructor","storeService","fb","articles","showForm","isEdition","setFormVisibility","isValidForm","articleForm","valid","Stores$","subscribe","res","initForm","group","branch","Validators","required","address","addNew","save","insert","value","Response","edit","store","patchValue","update","id","response","delete","confirm","alert","__decorate","selector","templateUrl","styleUrls"],"sources":["c:\\projects\\personal\\2023\\mlg\\MLGStore_UI\\src\\app\\dashboard\\articles\\articles.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ArticleDTO } from '../../models/article';\r\n\n@Component({\n  selector: 'app-articles',\n  templateUrl: './articles.component.html',\n  styleUrls: ['./articles.component.scss']\n})\nexport class ArticlesComponent {\n\n  articles: Array<ArticleDTO> = [];\n\n  articleForm!: FormGroup;\n  showForm: boolean = false;\n  isEdition: boolean = false;\n\n  store!: StoreDTO;\n\n  constructor(private storeService: StoreService,\n    private fb: FormBuilder) {\n    storeService.Stores$\n      .subscribe(res => this.articles = res);\n  }\n\n  initForm() {\n    this.articleForm = this.fb.group({\n      branch: ['', [Validators.required]],\n      address: ['', [Validators.required]],\n    });\n  }\n\n  setFormVisibility = () => this.showForm = !this.showForm;\n\n  addNew() {\n    this.isEdition = false;\n    this.setFormVisibility();\n    this.initForm();\n  }\n\n  isValidForm = (): boolean => this.articleForm.valid;\n\n  save() {\n    if (this.isValidForm()) {\n      this.storeService.insert(this.articleForm.value)\n        .subscribe(res => {\n          if (Response) {\n            this.setFormVisibility();\n          }\n        });\n    }\n  }\n\n  edit(store: StoreDTO) {\n    this.store = store;\n    this.isEdition = true;\n    this.setFormVisibility();\n    this.initForm();\n    this.articleForm.patchValue(store);\n  }\n\n  update() {\n    if (this.isValidForm()) {\n      this.storeService.update(this.store.id, this.articleForm.value)\n        .subscribe(response => {\n          if (Response) {\n            this.setFormVisibility();\n          }\n        });\n    }\n  }\n\n  delete(store: StoreDTO) {\n    if (confirm(`¿Desea eliminar la tienda ${store.branch}?`)) {\n      this.storeService.delete(store.id)\n        .subscribe(response => {\n          if (Response) {\n            alert(\"Registro eliminado\");\n          }\n        });\n    }\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAQlC,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAU5BC,YAAoBC,YAA0B,EACpCC,EAAe;IADL,KAAAD,YAAY,GAAZA,YAAY;IACtB,KAAAC,EAAE,GAAFA,EAAE;IATZ,KAAAC,QAAQ,GAAsB,EAAE;IAGhC,KAAAC,QAAQ,GAAY,KAAK;IACzB,KAAAC,SAAS,GAAY,KAAK;IAiB1B,KAAAC,iBAAiB,GAAG,MAAM,IAAI,CAACF,QAAQ,GAAG,CAAC,IAAI,CAACA,QAAQ;IAQxD,KAAAG,WAAW,GAAG,MAAe,IAAI,CAACC,WAAW,CAACC,KAAK;IAnBjDR,YAAY,CAACS,OAAO,CACjBC,SAAS,CAACC,GAAG,IAAI,IAAI,CAACT,QAAQ,GAAGS,GAAG,CAAC;EAC1C;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACL,WAAW,GAAG,IAAI,CAACN,EAAE,CAACY,KAAK,CAAC;MAC/BC,MAAM,EAAE,CAAC,EAAE,EAAE,CAACC,UAAU,CAACC,QAAQ,CAAC,CAAC;MACnCC,OAAO,EAAE,CAAC,EAAE,EAAE,CAACF,UAAU,CAACC,QAAQ,CAAC;KACpC,CAAC;EACJ;EAIAE,MAAMA,CAAA;IACJ,IAAI,CAACd,SAAS,GAAG,KAAK;IACtB,IAAI,CAACC,iBAAiB,EAAE;IACxB,IAAI,CAACO,QAAQ,EAAE;EACjB;EAIAO,IAAIA,CAAA;IACF,IAAI,IAAI,CAACb,WAAW,EAAE,EAAE;MACtB,IAAI,CAACN,YAAY,CAACoB,MAAM,CAAC,IAAI,CAACb,WAAW,CAACc,KAAK,CAAC,CAC7CX,SAAS,CAACC,GAAG,IAAG;QACf,IAAIW,QAAQ,EAAE;UACZ,IAAI,CAACjB,iBAAiB,EAAE;;MAE5B,CAAC,CAAC;;EAER;EAEAkB,IAAIA,CAACC,KAAe;IAClB,IAAI,CAACA,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACpB,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,iBAAiB,EAAE;IACxB,IAAI,CAACO,QAAQ,EAAE;IACf,IAAI,CAACL,WAAW,CAACkB,UAAU,CAACD,KAAK,CAAC;EACpC;EAEAE,MAAMA,CAAA;IACJ,IAAI,IAAI,CAACpB,WAAW,EAAE,EAAE;MACtB,IAAI,CAACN,YAAY,CAAC0B,MAAM,CAAC,IAAI,CAACF,KAAK,CAACG,EAAE,EAAE,IAAI,CAACpB,WAAW,CAACc,KAAK,CAAC,CAC5DX,SAAS,CAACkB,QAAQ,IAAG;QACpB,IAAIN,QAAQ,EAAE;UACZ,IAAI,CAACjB,iBAAiB,EAAE;;MAE5B,CAAC,CAAC;;EAER;EAEAwB,MAAMA,CAACL,KAAe;IACpB,IAAIM,OAAO,CAAC,6BAA6BN,KAAK,CAACV,MAAM,GAAG,CAAC,EAAE;MACzD,IAAI,CAACd,YAAY,CAAC6B,MAAM,CAACL,KAAK,CAACG,EAAE,CAAC,CAC/BjB,SAAS,CAACkB,QAAQ,IAAG;QACpB,IAAIN,QAAQ,EAAE;UACZS,KAAK,CAAC,oBAAoB,CAAC;;MAE/B,CAAC,CAAC;;EAER;CAED;AA1EYjC,iBAAiB,GAAAkC,UAAA,EAL7BnC,SAAS,CAAC;EACToC,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWrC,iBAAiB,CA0E7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}