{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/article.service\";\nimport * as i2 from \"@angular/forms\";\nexport class ArticlesComponent {\n  constructor(articleService, fb) {\n    this.articleService = articleService;\n    this.fb = fb;\n    this.articles = [];\n    this.showForm = false;\n    this.isEdition = false;\n    this.setFormVisibility = () => this.showForm = !this.showForm;\n    this.isValidForm = () => this.articleForm.valid;\n    articleService.Articles$.subscribe(res => this.articles = res);\n  }\n  initForm() {\n    this.articleForm = this.fb.group({\n      code: ['', [Validators.required]],\n      description: ['', [Validators.required]],\n      price: ['', [Validators.required]],\n      stock: ['', [Validators.required]],\n      image: ['', [Validators.required]]\n    });\n  }\n  addNew() {\n    this.isEdition = false;\n    this.setFormVisibility();\n    this.initForm();\n  }\n  save() {\n    if (this.isValidForm()) {\n      this.articleService.insert(this.articleForm.value).subscribe(response => {\n        if (Response) {\n          this.setFormVisibility();\n        }\n      });\n    }\n  }\n  edit(article) {\n    this.article = article;\n    this.isEdition = true;\n    this.setFormVisibility();\n    this.initForm();\n    this.articleForm.patchValue(article);\n  }\n  update() {\n    if (this.isValidForm()) {\n      this.articleService.update(this.article.id, this.articleForm.value).subscribe(response => {\n        if (Response) {\n          this.setFormVisibility();\n        }\n      });\n    }\n  }\n  delete(article) {\n    if (confirm(`¿Desea eliminar la tienda ${article.branch}?`)) {\n      this.articleService.delete(article.id).subscribe(response => {\n        if (Response) {\n          alert(\"Registro eliminado\");\n        }\n      });\n    }\n  }\n  static #_ = this.ɵfac = function ArticlesComponent_Factory(t) {\n    return new (t || ArticlesComponent)(i0.ɵɵdirectiveInject(i1.ArticleService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ArticlesComponent,\n    selectors: [[\"app-articles\"]],\n    decls: 2,\n    vars: 0,\n    template: function ArticlesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"articles works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: 1.2rem;\\n  text-align: center;\\n  padding: 0.5rem;\\n  border-bottom: 1px solid #000;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  max-width: 600px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGFzaGJvYXJkL2FydGljbGVzL2FydGljbGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLDZCQUFBO0FBQUY7O0FBSUE7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsZ0NBQUE7RUFFQSxnQkFBQTtBQUZGIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbnRoZWFkIHRyIHRkIHtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBmb250LXNpemU6IDEuMnJlbTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogMC41cmVtO1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMDAwO1xyXG59XHJcblxyXG5cclxuLmZvcm0tZ3JvdXAge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDUwJTtcclxuICBsZWZ0OiA1MCU7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbiAgLy90ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgbWF4LXdpZHRoOiA2MDBweDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["Validators","ArticlesComponent","constructor","articleService","fb","articles","showForm","isEdition","setFormVisibility","isValidForm","articleForm","valid","Articles$","subscribe","res","initForm","group","code","required","description","price","stock","image","addNew","save","insert","value","response","Response","edit","article","patchValue","update","id","delete","confirm","branch","alert","_","i0","ɵɵdirectiveInject","i1","ArticleService","i2","FormBuilder","_2","selectors","decls","vars","template","ArticlesComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["c:\\projects\\personal\\2023\\mlg\\MLGStore_UI\\src\\app\\dashboard\\articles\\articles.component.ts","c:\\projects\\personal\\2023\\mlg\\MLGStore_UI\\src\\app\\dashboard\\articles\\articles.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ArticleDTO } from '../../models/article';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ArticleService } from '../../services/article.service';\r\n\n@Component({\n  selector: 'app-articles',\n  templateUrl: './articles.component.html',\n  styleUrls: ['./articles.component.scss']\n})\nexport class ArticlesComponent {\n\n  articles: Array<ArticleDTO> = [];\n\n  articleForm!: FormGroup;\n  showForm: boolean = false;\n  isEdition: boolean = false;\n\n  article!: StoreDTO;\n\n  constructor(private articleService: ArticleService,\n    private fb: FormBuilder) {\n    articleService.Articles$\n      .subscribe(res => this.articles = res);\n  }\n\n  initForm() {\n    this.articleForm = this.fb.group({\n      code: ['', [Validators.required]],\n      description: ['', [Validators.required]],\n      price: ['', [Validators.required]],\n      stock: ['', [Validators.required]],\n      image: ['', [Validators.required]],\n    });\n  }\n\n  setFormVisibility = () => this.showForm = !this.showForm;\n\n  addNew() {\n    this.isEdition = false;\n    this.setFormVisibility();\n    this.initForm();\n  }\n\n  isValidForm = (): boolean => this.articleForm.valid;\n\n  save() {\n    if (this.isValidForm()) {\n      this.articleService.insert(this.articleForm.value)\n        .subscribe(response => {\n          if (Response) {\n            this.setFormVisibility();\n          }\n        });\n    }\n  }\n\n  edit(article: ArticleDTO) {\n    this.article = article;\n    this.isEdition = true;\n    this.setFormVisibility();\n    this.initForm();\n    this.articleForm.patchValue(article);\n  }\n\n  update() {\n    if (this.isValidForm()) {\n      this.articleService.update(this.article.id, this.articleForm.value)\n        .subscribe(response => {\n          if (Response) {\n            this.setFormVisibility();\n          }\n        });\n    }\n  }\n\n  delete(article: StoreDTO) {\n    if (confirm(`¿Desea eliminar la tienda ${article.branch}?`)) {\n      this.articleService.delete(article.id)\n        .subscribe(response => {\n          if (Response) {\n            alert(\"Registro eliminado\");\n          }\n        });\n    }\n  }\n\n}\n","<p>articles works!</p>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}