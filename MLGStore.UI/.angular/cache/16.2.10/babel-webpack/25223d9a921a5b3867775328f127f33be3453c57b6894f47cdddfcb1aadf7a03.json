{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/article.service\";\nimport * as i2 from \"../../services/store.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction ArticlesComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 8)(16, \"div\", 9)(17, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ArticlesComponent_tr_23_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const article_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.edit(article_r2));\n    });\n    i0.ɵɵtext(18, \" Editar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ArticlesComponent_tr_23_Template_button_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const article_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.delete(article_r2));\n    });\n    i0.ɵɵtext(20, \" Eliminar \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const article_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", article_r2.image, i0.ɵɵsanitizeUrl)(\"title\", article_r2.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(article_r2.code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(article_r2.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 7, article_r2.price));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 9, article_r2.stock));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(article_r2.store.branch);\n  }\n}\nfunction ArticlesComponent_ng_container_24_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const store_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", store_r9.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(store_r9.branch);\n  }\n}\nfunction ArticlesComponent_ng_container_24_button_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ArticlesComponent_ng_container_24_button_31_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.save());\n    });\n    i0.ɵɵtext(1, \" Guardar \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r7.isValidForm());\n  }\n}\nfunction ArticlesComponent_ng_container_24_button_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ArticlesComponent_ng_container_24_button_32_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.update());\n    });\n    i0.ɵɵtext(1, \" Guardar cambios \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r8.isValidForm());\n  }\n}\nfunction ArticlesComponent_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 11)(2, \"h3\", 12);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"form\", 13)(5, \"div\", 14)(6, \"label\", 15);\n    i0.ɵɵtext(7, \"Tienda:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"select\", 16);\n    i0.ɵɵtemplate(9, ArticlesComponent_ng_container_24_option_9_Template, 2, 2, \"option\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 14)(11, \"label\", 18);\n    i0.ɵɵtext(12, \"C\\u00F3digo:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 14)(15, \"label\", 20);\n    i0.ɵɵtext(16, \"Descripci\\u00F3n:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"input\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 14)(19, \"label\", 22);\n    i0.ɵɵtext(20, \"Precio:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"input\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 14)(23, \"label\", 24);\n    i0.ɵɵtext(24, \"Existencia:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(25, \"input\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 14)(27, \"label\", 26);\n    i0.ɵɵtext(28, \"Url de imagen:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(29, \"input\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 28);\n    i0.ɵɵtemplate(31, ArticlesComponent_ng_container_24_button_31_Template, 2, 1, \"button\", 29);\n    i0.ɵɵtemplate(32, ArticlesComponent_ng_container_24_button_32_Template, 2, 1, \"button\", 29);\n    i0.ɵɵelementStart(33, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ArticlesComponent_ng_container_24_Template_button_click_33_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.setFormVisibility());\n    });\n    i0.ɵɵtext(34, \" Cancelar \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", !ctx_r1.isEdition ? \"Agregar nuevo art\\u00EDculo\" : \"Editar art\\u00EDculo\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.articleForm);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.stores);\n    i0.ɵɵadvance(22);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isEdition);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isEdition);\n  }\n}\nexport class ArticlesComponent {\n  constructor(articleService, storeService, fb) {\n    this.articleService = articleService;\n    this.storeService = storeService;\n    this.fb = fb;\n    this.articles = [];\n    this.stores = [];\n    this.showForm = false;\n    this.isEdition = false;\n    this.setFormVisibility = () => this.showForm = !this.showForm;\n    this.isValidForm = () => this.articleForm.valid;\n    articleService.Articles$.subscribe(res => this.articles = res);\n    storeService.Stores$.subscribe(res => this.stores = res);\n  }\n  initForm() {\n    this.articleForm = this.fb.group({\n      storeId: ['', [Validators.required]],\n      code: ['', [Validators.required]],\n      description: ['', [Validators.required]],\n      price: ['', [Validators.required]],\n      stock: ['', [Validators.required]],\n      image: ['', [Validators.required]]\n    });\n  }\n  addNew() {\n    this.isEdition = false;\n    this.setFormVisibility();\n    this.initForm();\n  }\n  save() {\n    if (this.isValidForm()) {\n      this.articleService.insert(this.articleForm.value).subscribe(response => {\n        if (Response) {\n          this.setFormVisibility();\n        }\n      });\n    }\n  }\n  edit(article) {\n    this.article = article;\n    this.isEdition = true;\n    this.setFormVisibility();\n    this.initForm();\n    this.articleForm.patchValue(article);\n  }\n  update() {\n    if (this.isValidForm()) {\n      this.articleService.update(this.article.id, this.articleForm.value).subscribe(response => {\n        if (Response) {\n          this.setFormVisibility();\n        }\n      });\n    }\n  }\n  delete(article) {\n    if (confirm(`¿Desea eliminar el artículo ${article.description}?`)) {\n      this.articleService.delete(article.id).subscribe(response => {\n        if (Response) {\n          alert(\"Registro eliminado\");\n        }\n      });\n    }\n  }\n  static #_ = this.ɵfac = function ArticlesComponent_Factory(t) {\n    return new (t || ArticlesComponent)(i0.ɵɵdirectiveInject(i1.ArticleService), i0.ɵɵdirectiveInject(i2.StoreService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ArticlesComponent,\n    selectors: [[\"app-articles\"]],\n    decls: 25,\n    vars: 3,\n    consts: [[3, \"hidden\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mt-3\", \"mb-3\", \"pt-3\", \"pb-3\", 2, \"border-bottom\", \"2px solid ~ccc\"], [1, \"btn\", \"btn-outline-secondaryt\", \"text-end\", 3, \"click\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"article-image\", 3, \"src\", \"title\"], [1, \"text-end\"], [1, \"btn-group\", \"text-end\"], [1, \"btn\", \"btn-secondary\", \"btn-sm\", 3, \"click\"], [1, \"form-group\"], [1, \"mt-5\", \"mb-5\"], [3, \"formGroup\"], [1, \"mb-3\"], [\"for\", \"store\", 1, \"form-label\"], [\"id\", \"store\", \"formControlName\", \"storeId\", 1, \"form-control\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"code\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"code\", \"formControlName\", \"code\", \"required\", \"\", \"autofocus\", \"\", 1, \"form-control\"], [\"for\", \"description\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"description\", \"formControlName\", \"description\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"price\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"price\", \"formControlName\", \"price\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"stock\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"stock\", \"formControlName\", \"stock\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"image\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"image\", \"formControlName\", \"image\", \"required\", \"\", 1, \"form-control\"], [\"mt-3\", \"\", \"mb-2\", \"\", 1, \"d-flex\", \"justify-content-around\", \"align-items-center\"], [\"type\", \"submit\", \"class\", \"btn btn-primary\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [3, \"value\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"]],\n    template: function ArticlesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n        i0.ɵɵtext(3, \" Art\\u00EDculos \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ArticlesComponent_Template_button_click_4_listener() {\n          return ctx.addNew();\n        });\n        i0.ɵɵtext(5, \" Agregar \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 3)(7, \"table\", 4)(8, \"thead\")(9, \"tr\");\n        i0.ɵɵelement(10, \"td\");\n        i0.ɵɵelementStart(11, \"td\");\n        i0.ɵɵtext(12, \"C\\u00F3digo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"td\");\n        i0.ɵɵtext(14, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"td\");\n        i0.ɵɵtext(16, \"Precio\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"td\");\n        i0.ɵɵtext(18, \"Existencia\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"td\");\n        i0.ɵɵtext(20, \"Sucursal\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"td\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"tbody\");\n        i0.ɵɵtemplate(23, ArticlesComponent_tr_23_Template, 21, 11, \"tr\", 5);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(24, ArticlesComponent_ng_container_24_Template, 35, 5, \"ng-container\", 6);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"hidden\", ctx.showForm);\n        i0.ɵɵadvance(23);\n        i0.ɵɵproperty(\"ngForOf\", ctx.articles);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showForm);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.FormGroupDirective, i3.FormControlName, i4.DecimalPipe, i4.CurrencyPipe],\n    styles: [\".article-image[_ngcontent-%COMP%] {\\n  width: 100px;\\n  height: 100px;\\n  object-fit: cover;\\n  border: 1px solid #ccc;\\n  margin-right: 10px;\\n}\\n\\nthead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: 1.2rem;\\n  text-align: center;\\n  padding: 0.5rem;\\n  border-bottom: 1px solid #000;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  max-width: 600px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGFzaGJvYXJkL2FydGljbGVzL2FydGljbGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsWUFBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7QUFBRjs7QUFJQTtFQUNFLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSw2QkFBQTtBQURGOztBQUtBO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLGdDQUFBO0VBRUEsZ0JBQUE7QUFIRiIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4uYXJ0aWNsZS1pbWFnZSB7XHJcbiAgd2lkdGg6IDEwMHB4O1xyXG4gIGhlaWdodDogMTAwcHg7XHJcbiAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbn1cclxuXHJcblxyXG50aGVhZCB0ciB0ZCB7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgZm9udC1zaXplOiAxLjJyZW07XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDAuNXJlbTtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMDtcclxufVxyXG5cclxuXHJcbi5mb3JtLWdyb3VwIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiA1MCU7XHJcbiAgbGVmdDogNTAlO1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xyXG4gIC8vdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIG1heC13aWR0aDogNjAwcHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵlistener","ArticlesComponent_tr_23_Template_button_click_17_listener","restoredCtx","ɵɵrestoreView","_r4","article_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","edit","ArticlesComponent_tr_23_Template_button_click_19_listener","ctx_r5","delete","ɵɵadvance","ɵɵproperty","image","ɵɵsanitizeUrl","description","ɵɵtextInterpolate","code","ɵɵpipeBind1","price","stock","store","branch","store_r9","id","ArticlesComponent_ng_container_24_button_31_Template_button_click_0_listener","_r11","ctx_r10","save","ctx_r7","isValidForm","ArticlesComponent_ng_container_24_button_32_Template_button_click_0_listener","_r13","ctx_r12","update","ctx_r8","ɵɵelementContainerStart","ɵɵtemplate","ArticlesComponent_ng_container_24_option_9_Template","ArticlesComponent_ng_container_24_button_31_Template","ArticlesComponent_ng_container_24_button_32_Template","ArticlesComponent_ng_container_24_Template_button_click_33_listener","_r15","ctx_r14","setFormVisibility","ɵɵelementContainerEnd","ɵɵtextInterpolate1","ctx_r1","isEdition","articleForm","stores","ArticlesComponent","constructor","articleService","storeService","fb","articles","showForm","valid","Articles$","subscribe","res","Stores$","initForm","group","storeId","required","addNew","insert","value","response","Response","article","patchValue","confirm","alert","_","ɵɵdirectiveInject","i1","ArticleService","i2","StoreService","i3","FormBuilder","_2","selectors","decls","vars","consts","template","ArticlesComponent_Template","rf","ctx","ArticlesComponent_Template_button_click_4_listener","ArticlesComponent_tr_23_Template","ArticlesComponent_ng_container_24_Template"],"sources":["c:\\projects\\personal\\2023\\mlg\\MLGStore_UI\\src\\app\\dashboard\\articles\\articles.component.ts","c:\\projects\\personal\\2023\\mlg\\MLGStore_UI\\src\\app\\dashboard\\articles\\articles.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ArticleDTO } from '../../models/article';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ArticleService } from '../../services/article.service';\r\nimport { StoreDTO } from '../../models/Store';\r\nimport { StoreService } from '../../services/store.service';\r\n\n@Component({\n  selector: 'app-articles',\n  templateUrl: './articles.component.html',\n  styleUrls: ['./articles.component.scss']\n})\nexport class ArticlesComponent {\n\n  articles: Array<ArticleDTO> = [];\n  stores: Array<StoreDTO> = [];\n\n  articleForm!: FormGroup;\n  showForm: boolean = false;\n  isEdition: boolean = false;\n\n  article!: ArticleDTO;\n\n  constructor(private articleService: ArticleService,\n    private storeService:StoreService,\n    private fb: FormBuilder) {\n    articleService.Articles$\n      .subscribe(res => this.articles = res);\n    storeService.Stores$\n      .subscribe(res => this.stores = res);\n  }\n\n  initForm() {\n    this.articleForm = this.fb.group({\n      storeId: ['', [Validators.required]],\n      code: ['', [Validators.required]],\n      description: ['', [Validators.required]],\n      price: ['', [Validators.required]],\n      stock: ['', [Validators.required]],\n      image: ['', [Validators.required]],\n    });\n  }\n\n  setFormVisibility = () => this.showForm = !this.showForm;\n\n  addNew() {\n    this.isEdition = false;\n    this.setFormVisibility();\n    this.initForm();\n  }\n\n  isValidForm = (): boolean => this.articleForm.valid;\n\n  save() {\n    if (this.isValidForm()) {\n      this.articleService.insert(this.articleForm.value)\n        .subscribe(response => {\n          if (Response) {\n            this.setFormVisibility();\n          }\n        });\n    }\n  }\n\n  edit(article: ArticleDTO) {\n    this.article = article;\n    this.isEdition = true;\n    this.setFormVisibility();\n    this.initForm();\n    this.articleForm.patchValue(article);\n  }\n\n  update() {\n    if (this.isValidForm()) {\n      this.articleService.update(this.article.id, this.articleForm.value)\n        .subscribe(response => {\n          if (Response) {\n            this.setFormVisibility();\n          }\n        });\n    }\n  }\n\n  delete(article: ArticleDTO) {\n    if (confirm(`¿Desea eliminar el artículo ${article.description}?`)) {\n      this.articleService.delete(article.id)\n        .subscribe(response => {\n          if (Response) {\n            alert(\"Registro eliminado\");\n          }\n        });\n    }\n  }\n\n}\n","\n<div [hidden]=\"showForm\">\n  <div class=\"d-flex justify-content-between align-items-center mt-3 mb-3 pt-3 pb-3\"\n       style=\"border-bottom:2px solid ~ccc\">\n    <h2>\n      Artículos\n    </h2>\n    <button class=\"btn btn-outline-secondaryt text-end\"\n            (click)=\"addNew()\">\n      Agregar\n    </button>\n  </div>\n  <div class=\"table-responsive\">\n    <table class=\"table table-striped\">\n      <thead>\n        <tr>\n          <td></td>\n          <td>Código</td>\n          <td>Descripción</td>\n          <td>Precio</td>\n          <td>Existencia</td>\n          <td>Sucursal</td>\n          <td></td>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let article of articles\">\n          <td>\n            <img [src]=\"article.image\" [title]=\"article.description\"\n                 class=\"article-image\" />\n          </td>\n          <td>{{ article.code }}</td>\n          <td>{{ article.description }}</td>\n          <td>{{ article.price | currency }}</td>\n          <td>{{ article.stock | number }}</td>\n          <td>{{ article.store.branch }}</td>\n          <td class=\"text-end\">\n            <div class=\"btn-group text-end\">\n              <button class=\"btn btn-secondary btn-sm\"\n                      (click)=\"edit(article)\">\n                Editar\n              </button>\n              <button class=\"btn btn-secondary btn-sm\"\n                      (click)=\"delete(article)\">\n                Eliminar\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n\n<ng-container *ngIf=\"showForm\">\n  <div class=\"form-group\">\n    <h3 class=\"mt-5 mb-5\">\n      {{ !isEdition ? 'Agregar nuevo artículo' : 'Editar artículo' }}\n    </h3>\n    <form [formGroup]=\"articleForm\">\n      <div class=\"mb-3\">\n        <label for=\"store\" class=\"form-label\">Tienda:</label>\n        <select class=\"form-control\" id=\"store\" formControlName=\"storeId\">\n          <option *ngFor=\"let store of stores\"\n                  [value]=\"store.id\">{{ store.branch }}</option>\n        </select>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"code\" class=\"form-label\">Código:</label>\n        <input type=\"text\" class=\"form-control\" id=\"code\" formControlName=\"code\" required autofocus />\n      </div>\n\n      <div class=\"mb-3\">\n        <label for=\"description\" class=\"form-label\">Descripción:</label>\n        <input type=\"text\" class=\"form-control\" id=\"description\" formControlName=\"description\" required>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"price\" class=\"form-label\">Precio:</label>\n        <input type=\"number\" class=\"form-control\" id=\"price\" formControlName=\"price\" required>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"stock\" class=\"form-label\">Existencia:</label>\n        <input type=\"number\" class=\"form-control\" id=\"stock\" formControlName=\"stock\" required>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"image\" class=\"form-label\">Url de imagen:</label>\n        <input type=\"text\" class=\"form-control\" id=\"image\" formControlName=\"image\" required>\n      </div>\n\n      <div class=\"d-flex justify-content-around align-items-center\" mt-3 mb-2>\n        <button type=\"submit\" *ngIf=\"!isEdition\"\n                class=\"btn btn-primary\"\n                [disabled]=\"!isValidForm()\"\n                (click)=\"save()\">\n          Guardar\n        </button>\n        <button type=\"submit\" *ngIf=\"isEdition\"\n                class=\"btn btn-primary\"\n                [disabled]=\"!isValidForm()\"\n                (click)=\"update()\">\n          Guardar cambios\n        </button>\n        <button type=\"submit\"\n                class=\"btn btn-secondary\"\n                (click)=\"setFormVisibility()\">\n          Cancelar\n        </button>\n      </div>\n    </form>\n  </div>\n</ng-container>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}